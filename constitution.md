# 项目宪章（Constitution）

------------------------------------------------------------------------

## 一、宗旨（Purpose）

本宪章定义项目的不可变原则与长期治理规则（"非谈判项"），用于指导
Spec-Driven Development
流程中的所有决策（spec、plan、tasks、implement）。任何实现细节必须与此宪章对齐，偏离需按"例外申请流程"审批。

------------------------------------------------------------------------

## 二、适用范围（Scope）

适用于： -
所有由本仓库/项目产生的代码、文档、自动化脚本与基础设施代码； - 由 AI
助手（通过 Spec Kit 流程）生成的计划、任务和代码片段； -
团队成员与贡献者在项目开发与审查中的行为与判断。

------------------------------------------------------------------------

## 三、核心原则（Core Principles）

1.  **可读性优先**\
2.  **测试驱动且全面**\
3.  **向后兼容与稳定性**\
4.  **安全与隐私优先**\
5.  **可观测性与可诊断性**\
6.  **性能预算**\
7.  **可访问性与包容性**\
8.  **一致的 UX 与设计系统**\
9.  **完善的文档**\
10. **小步快审（Small, Reviewable Changes）**

------------------------------------------------------------------------

## 四、代码质量与风格（Code Quality & Style）

-   使用统一风格规范；强制 lint 与格式化；所有变更通过 PR。

------------------------------------------------------------------------

## 五、测试与 CI（Testing & CI）

-   所有 PR 触发 CI；必须包含相应测试；CI 必须通过。

------------------------------------------------------------------------

## 六、数据契约与兼容性（Data Contracts）

-   对外与内部持久化模型须有 schema、版本号与迁移策略。

------------------------------------------------------------------------

## 七、安全（Security）

-   禁止凭证入库；必须通过 SCA；最小权限控制。

------------------------------------------------------------------------

## 八、可访问性（Accessibility）

-   前端遵守 WCAG 基线，并提供必要的语义与键盘支持。

------------------------------------------------------------------------

## 九、文档与知识保留（Docs & Knowledge）

-   关键决定记录为 ADR；README 保持更新。

------------------------------------------------------------------------

## 十、审查与合并（Review & Merge）

-   至少 1 名审阅者；AI 生成代码需明确标注并人工复核。

------------------------------------------------------------------------

## 十一、例外与变更流程（Exceptions & Amendments）

-   例外需提出申请 → 两方批准 → 记录到 EXCEPTIONS.md。

------------------------------------------------------------------------

## 十二、与 Spec Kit 的交互（How AI Agents Should Use This Constitution）

-   所有 spec/plan/task/implement 必须遵守宪章；AI
    需标注潜在违背处与缓解措施。

------------------------------------------------------------------------

## 十三、检查清单（Quick Checklist）

-   [ ] 安全\
-   [ ] 测试\
-   [ ] CI\
-   [ ] 文档\
-   [ ] 审查\
-   [ ] 性能与兼容性

