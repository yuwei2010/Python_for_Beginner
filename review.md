# Review Guide — File Manager Project


本文件用于指导审查者在评审 `file_manager.py` 以及相关实现时，按照 Spec-Kit 规范验证质量、正确性、可维护性与一致性。

---

## 1. Alignment with Spec (What & Why)
检查实现是否完全满足 spec.md 中定义的目标：

- [ ] 是否创建了 `data/` 文件夹？
- [ ] 是否生成了 5 个文本文件（file1.txt – file5.txt）？
- [ ] 文件中是否写入了三列表格（编号、名称、描述）？
- [ ] 是否依次读取每个文件并打印标题与内容？
- [ ] 是否从文件中抽取了“名称”列？
- [ ] 是否生成了 `summary.txt` 的汇总文件？
- [ ] 行为与输出格式是否符合 spec 中定义的目的（why）？

若任何目标未满足，需要退回修改或在 PR 中说明例外原因。

---

## 2. Alignment with Plan (How)
确认代码是否合理实现了 plan.md 中的操作流程：

- [ ] 是否按步骤执行？（创建 → 写入 → 读取 → 汇总）
- [ ] 是否存在不必要的步骤或偏离？  
- [ ] 是否有未处理的边界情况（目录存在、文件覆盖、编码）？

若偏离计划，请确认是否有合理解释。

---

## 3. Code Quality
符合团队或项目宪章中定义的质量要求：

### 可读性
- [ ] 变量与函数命名清晰、语义明确
- [ ] 代码逻辑简洁、不冗余
- [ ] 必要时包含注释（特别是解析或提取逻辑）
- [ ] 文件路径与循环逻辑容易理解

### 可维护性
- [ ] 逻辑是否拆分成适当的函数，而不是全部集中在主逻辑？
- [ ] 是否避免了重复代码？
- [ ] 是否便于扩展（例如增加文件数量、列名等）？

---

## 4. Correctness & Robustness
确保脚本在正常与异常情况下都能运行：

- [ ] 使用 `os` 或 `pathlib` 检查目录是否存在
- [ ] 写文件时是否确保覆盖逻辑受控？
- [ ] 是否使用 UTF-8 编码确保跨平台兼容？
- [ ] 读取内容时是否能正确解析列？
- [ ] 若文件缺失或损坏，是否能优雅处理或提示？

---

## 5. Output Validation
验证输出是否符合 spec：

### 控制台输出
- [ ] 输出是否有标题格式（如 `=== file1.txt ===`）？
- [ ] 输出内容是否与写入内容一致？

### summary.txt
- [ ] 文件是否成功生成？
- [ ] 是否只包含一列“名称”？
- [ ] 每行是否仅有一个名称？
- [ ] 是否包含来自所有五个文件的名称？

---

## 6. Style & Convention
- [ ] 是否使用 Python 推荐的风格（PEP8）？
- [ ] 是否避免硬编码魔法数字（如文件数量或列名）？
- [ ] 是否使用 pathlib 而非字符串拼接路径？（推荐）

---

## 7. Test Considerations（如适用）
若提供了测试：

- [ ] 是否覆盖文件生成逻辑？
- [ ] 是否测试名称提取功能？
- [ ] 是否测试 summary 输出格式？

---

## 8. Performance & Efficiency（轻量检查）
- [ ] 文件读写代码是否高效且无重复操作？
- [ ] 是否避免不必要的加载全部文件到内存（如果内容较大）？

---

## 9. Security & Safety
根据宪章要求：

- [ ] 不应包含绝对路径或敏感环境变量
- [ ] 无外部输入时无需额外安全处理（本项目风险较低）

---

## 10. Reviewer Summary
审查者需在 PR 中填写以下内容：

```

* Spec 符合度：High / Medium / Low
* Plan 对齐度：High / Medium / Low
* 代码质量：Good / Acceptable / Needs Improvement
* 建议：

  * ...
  * ...
* 是否批准：Approve / Request Changes

```

---

## 附录
本审查指南遵循 constitution.md、spec.md、plan.md 与 tasks.md 中的规则。

```

---



